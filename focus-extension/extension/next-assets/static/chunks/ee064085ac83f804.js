(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26073,e=>{"use strict";var s=e.i(43476),i=e.i(71645);function t(){return void 0!==globalThis.chrome?globalThis.chrome:null}function a(){let[e,a]=(0,i.useState)("setup"),[n,l]=(0,i.useState)(""),[r,o]=(0,i.useState)(25),[c,d]=(0,i.useState)(1500),u=(0,i.useRef)(null),m=0===n.trim().length,h=(0,i.useMemo)(()=>{let e=60*r;return 565-Math.max(0,Math.min(e,e-c))/e*565},[r,c]),x=(0,i.useMemo)(()=>{let e=Math.floor(c/60),s=c%60;return`${e}:${s.toString().padStart(2,"0")}`},[c]);function p(){null!=u.current&&(window.clearInterval(u.current),u.current=null)}function j(){p(),u.current=window.setInterval(()=>{d(e=>{let s=e-1;return s<=0?0:s})},1e3)}function v(){p();let e=t();e?.storage?.local?.set({isActive:!1}),e?.runtime?.sendMessage?.({action:"endSession"}),a("summary")}return(0,i.useEffect)(()=>{let e=t();if(e?.storage?.local)return e.storage.local.get(["isActive","goal","duration","endTime"],e=>{if(e.isActive&&"number"==typeof e.endTime&&e.endTime>Date.now()){let s=e.goal||"",i="number"==typeof e.duration?e.duration:25,t=Math.floor((e.endTime-Date.now())/1e3);l(s),o(i),d(Math.max(0,t)),a("active"),j()}}),()=>p()},[]),(0,i.useEffect)(()=>{"active"===e&&c<=0&&v()},[c,e]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{id:"setupView",className:"view",style:{display:"setup"===e?"block":"none"},children:[(0,s.jsxs)("div",{className:"header",children:[(0,s.jsx)("div",{className:"icon-circle",children:(0,s.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("circle",{cx:"12",cy:"5",r:"3"}),(0,s.jsx)("path",{d:"M12 22V8"}),(0,s.jsx)("path",{d:"M5 12H2a10 10 0 0 0 20 0h-3"})]})}),(0,s.jsx)("h1",{children:"Anchor"}),(0,s.jsx)("p",{className:"subtitle",children:"Your AI-powered focus companion"})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"What is your main focus right now?"}),(0,s.jsx)("input",{type:"text",id:"goalInput",placeholder:"e.g., Write project proposal, Study for exam...",autoComplete:"off",value:n,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Focus Duration"}),(0,s.jsx)("input",{type:"range",id:"durationSlider",min:5,max:120,step:5,value:r,onChange:e=>o(parseInt(e.target.value,10))}),(0,s.jsxs)("div",{className:"duration-display",children:[(0,s.jsx)("span",{children:"5 min"}),(0,s.jsxs)("span",{id:"durationValue",className:"duration-main",children:[r," minutes"]}),(0,s.jsx)("span",{children:"120 min"})]}),(0,s.jsx)("div",{className:"preset-buttons",children:[15,25,45,60].map(e=>(0,s.jsxs)("button",{className:`preset-btn ${e===r?"active":""}`,"data-duration":e,onClick:()=>o(e),type:"button",children:[e,"m"]},e))})]}),(0,s.jsxs)("button",{id:"startBtn",className:"primary-btn",disabled:m,onClick:function(){let e=n.trim();d(60*r);let s=t();s?.storage?.local?.set({isActive:!0,goal:e,duration:r,startTime:Date.now(),endTime:Date.now()+60*r*1e3}),s?.runtime?.sendMessage?.({action:"startSession",goal:e,duration:r}),a("active"),j()},children:[(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("circle",{cx:"12",cy:"5",r:"3"}),(0,s.jsx)("path",{d:"M12 22V8"}),(0,s.jsx)("path",{d:"M5 12H2a10 10 0 0 0 20 0h-3"})]}),"Drop Anchor"]})]})]}),(0,s.jsx)("div",{id:"activeView",className:"view",style:{display:"active"===e?"block":"none"},children:(0,s.jsxs)("div",{className:"active-container",children:[(0,s.jsxs)("div",{className:"ai-badge",children:[(0,s.jsx)("span",{className:"pulse-dot"}),"AI Copilot Active"]}),(0,s.jsxs)("div",{className:"goal-display",children:[(0,s.jsx)("p",{className:"goal-label",children:"Currently anchored to:"}),(0,s.jsx)("h2",{id:"activeGoal",className:"goal-text",children:n||"Your goal here"})]}),(0,s.jsxs)("div",{className:"timer-circle",children:[(0,s.jsxs)("svg",{viewBox:"0 0 200 200",children:[(0,s.jsx)("circle",{cx:"100",cy:"100",r:"90",className:"timer-bg"}),(0,s.jsx)("circle",{cx:"100",cy:"100",r:"90",className:"timer-progress",id:"timerProgress",style:{strokeDashoffset:h}}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#14b8a6"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#0d9488"})]})})]}),(0,s.jsxs)("div",{className:"timer-text",children:[(0,s.jsx)("div",{id:"timeDisplay",className:"time-big",children:x}),(0,s.jsx)("div",{className:"time-label",children:"remaining"})]})]}),(0,s.jsx)("p",{className:"encouragement",children:"Stay focused. You've got this."}),(0,s.jsx)("button",{id:"pauseBtn",className:"secondary-btn",onClick:function(){v()},children:"Pause Session"})]})}),(0,s.jsx)("div",{id:"summaryView",className:"view",style:{display:"summary"===e?"block":"none"},children:(0,s.jsxs)("div",{className:"summary-container",children:[(0,s.jsx)("div",{className:"success-icon",children:(0,s.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,s.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),(0,s.jsx)("h1",{className:"summary-title",children:"Session Complete!"}),(0,s.jsxs)("p",{className:"summary-goal",children:["You anchored to: ",(0,s.jsx)("span",{id:"summaryGoal",children:n})]}),(0,s.jsx)("button",{id:"newSessionBtn",className:"primary-btn dark",onClick:function(){p(),l(""),o(25),d(1500),a("setup")},children:"Start New Session"})]})})]})}e.s(["default",()=>a])}]);